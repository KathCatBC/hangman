<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Hangman</title>

 	
<!-- // can't use bootstrap when working offline -->
   <link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cyborg/bootstrap.min.css" rel="stylesheet">

  <!--  	// My adjustments go here -->
	 <link rel="stylesheet" type="text/css" href="assets/style.css">
    
	<script type="text/javascript">

  </script>
  </head>
  <body>
  <h2>Hangman</h2>
<h3>Name the Formula 1 Driver</h3>

<div class="panel panel-default panelalign">
  <div class="panel-heading headingtxt">
 	<div class="headingtxt">I give you the first name - you guess the last!</div>
  </div>
  <div class="panel-body">

	<div id="displayResults">
      Game Results Go Here
    </div>
   

  </div>
</div>


<!-- <div class="panel panel-default">
  <div class="panel-body"> -->
  	<div id="wonlostphoto">
		<!-- photo goes here -->
    </div>
 <!--  </div>
</div> -->


<script>


var display = document.querySelector("#wonlostphoto");
var display = document.querySelector("#displayResults");

var beCareful = ""
var NumofGuess = 0;
var key = "a"; //stores key letter  start with a to prevent meta when loading will be 		replaced as soon as a users presses a key 
var F1Drivers = ["Lewis!Hamilton", "Niki!Lauda", "Nico!Rosberg", "Sebastian!Vettel", "Nico!Hulkenberg", "Rubens!Barrichello", "Kimi!Raikkonen", "Sergio!Perez", "Felipe!Massa", "Valteri!Bottas", "Fernando!Alonso", "Jenson!Button", "Romain!Grojean", "Daniel!Ricciardo", "Max!Verstappen"];
var GuessDriver = F1Drivers[Math.floor(Math.random() * F1Drivers.length)];     
	// picks a random driver from the array
	//splits first and last name of random chosen driver
	var SplitName = GuessDriver.split("!"); 
	var FirstName = SplitName[0];
	var LastName = SplitName[1];

var MaxWrong = 10;	//max number of wrong guesses  could be hardcoded
var wrongLetters = []; //array to hold wrong letters guessed
var guessLetters = []; // 
var rightLetters = "";
//var rightLetters = []; //array to hold the right letters in the right position
var l = 0 //loop counter
var wlsstatus = "";
// var wonphoto = "assets/images/trophy.png"
// var lostphoto = 

	

	UpperLastName = LastName.toUpperCase();  ////Convert last name to uppercase for comparison purposes
	UpperLastName = UpperLastName.split("");  //splits last name into an arry
	LastName = LastName.split("");



      function displayResults(){       //right now every variable is global - no need to pass anything,       
        var string = '<p><h5>'+ FirstName + '  ' + rightLetters +'</h5></p><br>';
           string += '<p><h6> Wrong Letters: ' + wrongLetters; + '<h6></p><br>';
           string += '<p><h6> Remaining Guesses: ' + (MaxWrong - NumofGuess)  + '<h6></p>';
      	   string += '<p>' + beCareful + '</p>';

         display.innerHTML = string;
      }


 		function wonlostphoto(){
       
 			var showphoto = ""
        if (wlsstatus == "lost") {

        	showphoto = "lost";  //get this to work with a bit of text before trying photos
        	
        	// showphoto = "<img src="assets/images/crash2.jpg" alt="Tires" width="400" height="200">"
        	// showphoto = "<img src='assets/images/crash2.jpg'>";
        }
        else if (wlsstatus == "won") {
        	showphoto = "you won";
        	// showphoto = "You Won! <br>";
        	// showphoto += "<img src=assets/images/trophy.png>";
        	// showphoto += "Where is my ^&*() photo";
        	// showphoto = "<img src='assets/images/trophy.png'>"
        }
        else{
        	showphoto = "status start"
        	// showphoto = "<img src='assets/images/pirelli.jpg'>";
        }
        display.innerHTML = showphoto;
      }


	//display the proper number of dashes for lastname
	// using 2 variable 1 string and 1 array for display neatness
	for (i = 0; i < UpperLastName.length; i++) {
		rightLetters = rightLetters + "_ ";
		guessLetters.push("_");
	}
	
 	displayResults() //update display with game info

// get a letter from the user to start checking
 document.onkeyup = function(event){


 		key = event.key;
	 	console.log("pushed " + key);
	 	var key2 = key.toUpperCase();
	 	beCareful = "" //clear it to null 
	 	// key2 = key.toUpperCase()
 		//console.log("key pressed = " + key)
 		// console.log("pushed " + key)

 	 // key = event.key
	
if (key2 < "A" || key2 > "Z" || key2 == "SHIFT" || key2 == "CONTROL" || key2 == "ALT" || key2 == "BACKSPACE" || key2 == "ESCAPE") {			//check to make sure a letter was input.
	//for some reason shift ctrl and alt backspace & ESC fail the A to Z test
	beCareful = "Warning:  You must select a letter"
	}
	else if (NumofGuess < MaxWrong) { 
		console.log("pushed letter " + key2);
		console.log("Number of Guesses" + NumofGuess);
	 	//if index of the letter = -1 then it is an incorrect guess
 		if (UpperLastName.indexOf(key2) == -1) {  
		//check here for duplicate wrong letters since you don't get penalized for duplicate correct letters
 			if (wrongLetters.indexOf(key2) != -1) {  //wrong letter has already been guessd
 				// console.log("already been guessed");
 				beCareful = "You already guessed that letter"
 			}
 			else {
	 			// letter is in last name must loop thru for duplicate letters
	 			console.log("guessed Wrong letter " + key2);
	 			wrongLetters.push("" + key2);
	 			NumofGuess ++ ;
	 			console.log("Number of Guesses " + NumofGuess);
 			}

 			} 
 			else {
 				console.log("guessed a correct letter " + key2);
 				for (l = 0; l < UpperLastName.length; l++) {
 				 	if (UpperLastName[l] == key2) {
 				 		guessLetters[l] = LastName[l];
 				 		// console.log(guessLetters);
 				 	}  //end if
 				 }  //end for
 				 rightLetters = guessLetters.join(" ");
 				 // console.log("Number of Guesses" + NumofGuess);
 			}  //end of else
 			
 		} // end of else if
 		// console.log("Number of Guesses" + NumofGuess + " Max " + MaxWrong);
 		if (NumofGuess === MaxWrong) {  //too many wrong guesses
 			beCareful = "<p> Too many wrong guesses the right answer was: </p>";
 			beCareful += "<p>" + FirstName + " " + SplitName[1] + "</p>";
 			wlsstatus = "lost";
 			wonlostphoto();

 		}
 		if (guessLetters.indexOf("_") == -1) {  //you won
 			beCareful = "<p> You Won! </p>";
 			wlsstatus = "won";
 			wonlostphoto();

 		}
		displayResults()


 		//check to see if user won or lost
} //end of function

// var display = document.querySelector("#....") //use (# for id)  (. for class)


    </script>
  </body>
</html>